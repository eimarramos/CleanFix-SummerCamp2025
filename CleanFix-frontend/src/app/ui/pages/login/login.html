<form
  class="mx-auto mt-16 flex max-w-sm flex-col gap-6 rounded-xl border-2 p-8 shadow-lg"
  style="background: var(--color-primary-300); border-color: var(--color-brand-500)"
  (ngSubmit)="onSubmit()"
>
  <h2 class="mb-6 text-center font-primary text-3xl font-bold text-accent-500">Iniciar sesión</h2>
  <div>
    <label for="username" class="mb-1 block font-primary text-sm font-semibold text-brand-600"
      >Usuario</label
    >
    <input
      id="username"
      name="username"
      type="text"
      [(ngModel)]="username"
      class="mt-1 block w-full rounded-lg border border-brand-300 bg-white px-4 py-2 font-primary text-brand-700 focus:border-brand-500 focus:outline-none"
      required
      autocomplete="username"
    />
  </div>
  <div class="relative">
    <label for="password" class="mb-1 block font-primary text-sm font-semibold text-brand-600"
      >Contraseña</label
    >
    <input
      id="password"
      name="password"
      [type]="showPassword ? 'text' : 'password'"
      [(ngModel)]="password"
      class="mt-1 block w-full rounded-lg border border-brand-300 bg-white px-4 py-2 pr-10 font-primary text-brand-700 focus:border-brand-500 focus:outline-none"
      required
      autocomplete="current-password"
    />
    <button
      *ngIf="password"
      type="button"
      (click)="showPassword = !showPassword"
      class="absolute top-9 right-3 flex h-6 w-6 items-center justify-center text-brand-700 focus:outline-none"
      tabindex="-1"
      aria-label="Mostrar/ocultar contraseña"
    >
      <svg
        *ngIf="!showPassword"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        class="h-5 w-5"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
        />
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
        />
      </svg>
      <svg
        *ngIf="showPassword"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        class="h-5 w-5"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.956 9.956 0 012.442-4.362M6.634 6.634A9.956 9.956 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.96 9.96 0 01-4.818 5.326M15 12a3 3 0 11-6 0 3 3 0 016 0z"
        />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3l18 18" />
      </svg>
    </button>
  </div>
  <button
    type="submit"
    [disabled]="!username || !password"
    class="w-full rounded-lg border-2 border-brand-700 py-2 font-primary font-semibold shadow-sm transition-all duration-200"
    [ngStyle]="{
      background: !username || !password ? '#e5e7eb' : 'var(--color-accent-500)',
      color: !username || !password ? '#a1a1aa' : 'var(--color-primary-500)',
      cursor: !username || !password ? 'not-allowed' : 'pointer',
      transform: !username || !password ? 'scale(1)' : '',
    }"
    [class.hoverable-active]="username && password"
  >
    Entrar
  </button>
  <style>
    .hoverable-active:hover {
      background: var(--color-accent-500) !important;
      filter: brightness(0.85);
      color: var(--color-primary-500) !important;
      transform: scale(1.05);
    }
  </style>
</form>
